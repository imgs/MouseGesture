# 鼠标手势扩展

一个功能强大的 Chrome/Edge 扩展，通过鼠标手势、超级拖拽功能、智能标签页管理和小窗视图功能提升您的浏览效率。

## 功能特点

### 鼠标手势
按住鼠标右键并拖动即可执行手势。我们的智能识别算法确保即使手势绘制不够完美也能被准确识别。

#### 内置手势
| 手势 | 动作 | 说明 |
|------|------|------|
| 左 | 后退 | 返回上一页 |
| 右 | 前进 | 前往下一页 |
| 上 | 向上滚动 | 页面向上滚动 |
| 下 | 向下滚动 | 页面向下滚动 |
| 下然后右 | 关闭标签页 | 关闭当前标签页 |
| 左然后上 | 重新打开标签页 | 恢复最近关闭的标签页 |
| 右然后上 | 新建标签页 | 打开新的标签页 |
| 右然后下 | 刷新 | 重新加载当前页面 |
| 上然后左 | 上一个标签页 | 切换到左侧标签页 |
| 上然后右 | 下一个标签页 | 切换到右侧标签页 |
| 下然后左 | 停止加载 | 停止页面加载 |
| 左然后下 | 强制刷新 | 强制重新加载当前页面（绕过缓存） |
| 上然后下 | 滚动到底部 | 滚动到页面底部 |
| 下然后上 | 滚动到顶部 | 滚动到页面顶部 |
| 左然后右 | 关闭标签页 | 关闭标签页的替代方式 |
| 右然后左 | 重新打开标签页 | 恢复标签页的替代方式 |

### 小窗视图
通过组合键快速预览链接和搜索内容，无需离开当前页面：

- **实时链接预览**：按住触发按键（默认为Shift）并悬停在链接上，即可在弹出窗口中预览目标页面
- **文本选择搜索**：选中文本并按触发按键，立即搜索选中内容
- **高度可定制**：
  - 选择触发按键（Ctrl、Alt、Shift或无需按键）
  - 调整悬停延迟时间（100-5000毫秒，默认：200毫秒）
  - 设置最大预览窗口数（1-10个）
  - 自定义窗口尺寸
  - 配置窗口位置（鼠标位置、屏幕中心或屏幕角落）
  - 定制搜索引擎（支持Google、百度、必应等，使用{q}占位符）
- **多窗口支持**：同时打开多个预览窗口，提高信息获取效率
- **智能窗口定位**：根据屏幕边界智能调整窗口位置，确保完全可见
- **简洁界面**：干净的预览窗口，无干扰浏览体验

### 调试面板
通过快捷键`Alt+D`可随时打开调试面板，帮助您分析和解决手势识别问题：

- **实时显示手势信息**：查看原始方向序列、合并后方向序列、相似度等信息
- **持久状态**：面板状态在页面刷新和跳转后自动保持
- **一键复制功能**：便捷地复制调试信息用于分析或分享
- **多语言支持**：根据系统设置自动切换中英文界面
- **清新界面**：时尚的色彩方案和布局，方向指示直观清晰
- **易于使用**：按`Alt+D`打开/关闭，无需额外设置

### 超级拖拽
增强的拖拽操作功能：
- 拖拽链接到新标签页打开
- 拖拽图片到新标签页查看
- 拖拽选中文本进行搜索
- 自定义拖拽方向决定标签页打开方式：默认后台打开

### 智能标签页管理
通过先进的管理功能，轻松掌控您的标签页：

#### 重复标签页检测
- 智能检测，准确比较 URL，忽略 URL 格式的变化
- 交互式通知，提供关闭重复项或忽略的选项
- 可在设置中开启/关闭此功能
- 防止浏览器标签页混乱，提高性能

#### 自动关闭重复标签页
- 打开新标签页时自动关闭重复标签页（可选功能）
- 关闭成功后显示通知，包含已关闭标签页的标题
- 智能 URL 标准化，确保准确匹配
- 用户可通过设置轻松控制此功能

#### 标签页内存优化
- 定期清理未使用的标签页数据
- 通过减少内存使用提升浏览器性能
- 基于访问频率的智能数据保留机制

### 增强视觉界面

#### 手势提示
- 优美半透明界面，边框精致细腻
- 智能上下文相关图标和颜色
- 基于页面背景自适应主题
- 流畅的动画和过渡效果

#### 图片和视频预览
- 悬停时增强的图片预览效果
- 优化的视频封面图，具有自适应背景
- 支持跨域媒体，智能降级处理
- 支持圆形和自定义形状媒体的圆角处理

### 其他特性
- 🎨 可自定义手势轨迹（颜色和宽度）
- 🌙 深色/浅色主题支持
- 🌐 多语言界面（支持29种语言）
- 🖼️ 图片悬停预览
- ⚡ 页面加载过程中也可使用
- 🎯 智能手势识别，具有容错性
- 🔗 智能 URL 处理，支持所有协议
- 🔄 优化的欢迎页面和扩展资源
- 🔍 内置调试面板，按Alt+D快速打开
- 🌎 通配符匹配系统，支持更多视频网站

### 支持的语言
本扩展支持29种语言，并配有相应的本地化搜索引擎：
- 🇺🇸 **English** - DuckDuckGo
- 🇨🇳 **简体中文** - 百度搜索
- 🇹🇼 **繁體中文** - Google 台灣
- 🇪🇸 **Español** - Google España
- 🇫🇷 **Français** - Qwant
- 🇩🇪 **Deutsch** - Startpage
- 🇷🇺 **Русский** - Яндекс
- 🇯🇵 **日本語** - Yahoo Japan
- 🇰🇷 **한국어** - Naver
- 🇮🇳 **हिंदी** - Google India
- 🇧🇷 **Português** - Google Brasil
- 🇸🇦 **العربية** - Google Arabic
- 🇧🇩 **বাংলা** - Google Bangladesh
- 🇳🇱 **Nederlands** - Google Nederland
- 🇹🇷 **Türkçe** - Google Türkiye
- 🇺🇦 **Українська** - Google Ukraine
- 🇵🇰 **اردو** - Google Pakistan
- 🇮🇩 **Bahasa Indonesia** - Google Indonesia
- 🇮🇹 **Italiano** - Google Italia
- 🇵🇱 **Polski** - Google Polska
- 🇰🇪 **Kiswahili** - Google Kenya
- 🇹🇭 **ไทย** - Google Thailand
- 🇻🇳 **Tiếng Việt** - Google Vietnam
- 🇨🇿 **Čeština** - Google Česko
- 🇩🇰 **Dansk** - Google Danmark
- 🇸🇰 **Slovensky** - Google Slovenština
- 🇳🇴 **Norsk** - Google Norge
- 🇫🇮 **Suomen** - Google Suomi
- 🇪🇪 **Eesti** - Google Eesti

## 安装方法

### 从 Chrome 网上应用店安装
1. 访问 [Chrome 网上应用店](https://chrome.google.com/webstore)
2. 搜索"鼠标手势扩展"
3. 点击"添加到 Chrome"

### 手动安装（开发者模式）
1. 下载并解压本仓库
2. 打开 Chrome/Edge 浏览器，访问 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择解压后的文件夹

## 使用方法

### 基本使用
1. 安装扩展
2. 按住鼠标右键并拖动来执行手势
3. 可视化轨迹会指引您的手势
4. 松开右键执行相应动作
5. 在 Linux 和 macOS 系统中，双击右键可以显示浏览器的上下文菜单

### 小窗视图使用
1. 将鼠标悬停在任意链接上
2. 按住触发按键（默认为Shift键）
3. 等待短暂延迟后，小窗视图会自动打开
4. 也可以先选中文本，然后按触发按键搜索选中内容

### 调试功能使用
1. 在任意页面按下`Alt+D`打开调试面板
2. 执行鼠标手势，实时查看识别过程
3. 点击面板右上角"📋"按钮复制调试信息
4. 再次按`Alt+D`或点击面板右上角"×"关闭面板

### 自定义设置
点击扩展图标访问设置：
- 启用/禁用鼠标手势
- 启用/禁用手势轨迹
- 自定义轨迹颜色
- 调整轨迹宽度
- 开启/关闭超级拖拽
- 启用/禁用重复标签页检测
- 启用/禁用自动关闭重复标签页
- 启用/禁用小窗视图功能
- 设置小窗视图的触发按键、延迟时间等
- 切换语言
- 更改主题

## 浏览器兼容性
- Chrome 88+
- Edge 88+（基于 Chromium）

## 隐私说明
### 数据收集与存储
- 不收集任何个人数据
- 不跟踪浏览历史
- 不监控用户行为
- 所有设置仅存储在您的浏览器本地
- 不向外部服务器传输任何数据

### 权限使用说明
- `tabs`：仅用于手势相关的标签页操作（切换、关闭等）
- `storage`：仅用于在本地保存您的偏好设置
- `sessions`：仅用于恢复最近关闭的标签页
- `activeTab`：仅在用户与当前标签页交互时用于启用手势检测和处理
- `scripting`：仅用于注入手势识别和视觉反馈所需的内容脚本
- `<all_urls>`：需要此权限以实现手势功能，但不会收集或传输页面内容

### 安全保障
- 无外部依赖或第三方服务
- 不执行远程代码
- 无分析或跟踪脚本
- 所有代码开源可审查
- 仅通过官方 Chrome 网上应用店更新

### 数据保护
- 设置通过您的 Chrome 账号同步（如果已启用）
- 除扩展设置外不使用 cookies 或本地存储
- 不访问敏感页面内容
- 未经明确用户操作不访问剪贴板
- 除手势检测外无后台进程

更多隐私实践详情，请访问：https://abcrk.com/420.html

## 技术细节
- 基于 Manifest V3 构建
- 使用现代浏览器 API
- 性能已优化
- 资源占用最小化
- 智能 URL 处理，支持所有协议
- 防御性编程技术

## 最近更新
- 语言支持从13种扩展到29种，新增荷兰语、土耳其语、乌克兰语、乌尔都语、印尼语、意大利语、波兰语、斯瓦希里语、泰语、越南语、捷克语、丹麦语、瑞典语、挪威语、芬兰语和爱沙尼亚语
- 完全更新和优化了土耳其语、乌尔都语、荷兰语和乌克兰语的翻译
- 改进了所有语言的调试面板翻译，提升用户体验
- 修复了拖拽数字 8.8、8.8.8 等格式时被误识别为 IP 地址的问题
- 优化拖拽功能，现在拖拽文本时将优先处理选中的文本，即使文本位于链接上
- 安装后无需刷新页面，扩展功能在所有已打开标签页立即生效
- 新增通配符匹配系统，支持更多视频网站，包括YouTube、Bilibili、Netflix、Twitch等
- 修复了Linux和macOS系统上文本拖拽搜索功能失效的问题
- 修复了禁用拖拽文本搜索开关不生效的问题
- 在Linux和macOS系统中，双击右键可以显示浏览器的上下文菜单
- 优化小窗视图悬停延迟，从300毫秒调整为200毫秒，实现更快的预览响应
- 添加小窗视图功能，支持按键触发和自定义搜索引擎
- 增强文本选择搜索功能，支持多种搜索引擎配置
- 添加调试面板功能，通过Alt+D快捷键打开，支持一键复制和双语言显示
- 添加了自动关闭重复标签页功能，带有成功通知
- 改进了内存管理，实现定期清理
- 增强了手势提示 UI，使用半透明边框和精致美学
- 优化了视频封面图处理，消除黑边问题
- 改进了跨域媒体处理，使用自适应背景
- 添加了智能 URL 标准化，提高重复检测精度
- 增强了用户对通知交互的控制
- 修复了跨域内容的 Canvas 操作问题

## 开发相关

### 项目结构
```
├── manifest.json
├── background.js
├── content.js
├── preview.js
├── popup.html
├── popup.css
├── popup.js
├── welcome.html
├── welcome.js
├── _locales/
│   ├── en_US/
│   │   └── messages.json
│   ├── zh_CN/
│   │   └── messages.json
│   ├── zh_TW/
│   │   └── messages.json
│   ├── es/
│   │   └── messages.json
│   ├── fr/
│   │   └── messages.json
│   ├── de/
│   │   └── messages.json
│   ├── ru/
│   │   └── messages.json
│   ├── ja/
│   │   └── messages.json
│   ├── ko/
│   │   └── messages.json
│   ├── hi/
│   │   └── messages.json
│   ├── pt/
│   │   └── messages.json
│   ├── ar/
│   │   └── messages.json
│   ├── bn/
│   │   └── messages.json
│   ├── nl/
│   │   └── messages.json
│   ├── tr/
│   │   └── messages.json
│   ├── uk/
│   │   └── messages.json
│   ├── ur/
│   │   └── messages.json
│   ├── id/
│   │   └── messages.json
│   ├── it/
│   │   └── messages.json
│   ├── pl/
│   │   └── messages.json
│   ├── sw/
│   │   └── messages.json
│   ├── th/
│   │   └── messages.json
│   └── vi/
│       └── messages.json
└── images/
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

### 从源码构建
1. 克隆仓库
2. 进行修改
3. 在 Chrome/Edge 开发者模式下测试
4. 打包发布

## 参与贡献
欢迎提交贡献！请随时提交 Pull Request。

## 许可信息

本项目采用**双重许可模式**：

### 🆓 GNU General Public License v3 (GPL v3) - 开源免费使用

**适用于：** 个人、教育和开源项目

- ✅ **免费使用** 个人和开源项目
- ✅ **免费修改** 和分发
- ✅ **免费学习** 和研究源代码
- ⚠️ **Copyleft 要求：** 任何衍生作品也必须采用 GPL v3 许可
- ⚠️ **源代码披露：** 分发时必须提供源代码

**最适合：**
- 开源项目
- 教育用途
- 个人项目
- 非商业应用

### 💼 商业许可 - 专有和商业用途

**适用于：** 商业软件、专有应用和企业解决方案

- ✅ **在专有软件中使用** 无需 GPL 要求
- ✅ **分发时无需披露** 源代码
- ✅ **修改时无需** Copyleft 义务
- ✅ **集成到商业产品中**
- ✅ **向最终用户再许可** 专有条款

**最适合：**
- 商业软件
- 专有应用
- 闭源项目
- 企业解决方案

### 许可选择指南

| 使用场景 | 推荐许可 |
|----------|----------|
| 开源项目 | GPL v3（免费） |
| 个人使用 | GPL v3（免费） |
| 教育用途 | GPL v3（免费） |
| 商业软件 | 商业许可 |
| 专有应用 | 商业许可 |
| 企业解决方案 | 商业许可 |

### 许可文件

- [`LICENSE`](LICENSE) - 完整 GPL v3 许可文本
- [`COMMERCIAL_LICENSE.md`](COMMERCIAL_LICENSE.md) - 商业许可条款
- [`LICENSE_INFO.md`](LICENSE_INFO.md) - 详细概述
- [`README_LICENSE.md`](README_LICENSE.md) - 快速参考

### 联系信息

**商业许可咨询：**
- **邮箱：** license@cgqa.com
- **作者：** CGQA
- **项目：** 鼠标手势扩展

**版权：** 2025-2026 CGQA <license@cgqa.com>

---

*请根据您的使用场景选择合适的许可。*

## 支持
如果您遇到问题或有建议，请访问：https://abcrk.com/420.html

## 致谢
感谢所有贡献者和用户帮助改进这个扩展！ 